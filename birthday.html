<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:'Poppins',sans-serif;
  background:#141e30;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  overflow:hidden;
  transition: background 1.5s ease;
  color:white;
}

.container{
  width:90%;
  max-width:520px;
  text-align:center;
  position:relative;
  z-index:2;
}

.title{
  font-family:'Great Vibes',cursive;
  font-size:44px;
  margin-bottom:20px;
  text-shadow:0 0 20px rgba(255,192,203,0.9);
  min-height:60px;
}

.message{
  margin-top:15px;
  font-size:17px;
  min-height:80px;
  line-height:1.6;
}

img{
  width:100%;
  margin-top:20px;
  border-radius:18px;
  opacity:0;
  transform:scale(0.95);
  transition: opacity 2.5s ease, transform 2.5s ease;
  box-shadow:0 10px 30px rgba(0,0,0,0.35);
}

img.show{
  opacity:1;
  transform:scale(1);
}

.gift{
  font-size:90px;
  margin:20px 0;
  display:none;
  animation: pop 1s ease;
}

@keyframes pop{
  0%{transform:scale(0);}
  100%{transform:scale(1);}
}

button{
  margin-top:20px;
  padding:10px 25px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  font-size:16px;
  cursor:pointer;
  display:none;
}

.heart{
  position:absolute;
  bottom:-20px;
  font-size:20px;
  animation: floatUp linear forwards;
  opacity:0.7;
}

@keyframes floatUp{
  from{ transform:translateY(0) scale(1); opacity:0.8; }
  to{ transform:translateY(-800px) scale(1.8); opacity:0; }
}
</style>
</head>

<body>

<!-- ‚úÖ Audio (Autoplay Removed ‚Äì Correct Fix) -->
<audio id="music" loop>
  <source src="audio2.mpeg" type="audio/mpeg">
</audio>

<div class="container">
  <div class="title" id="title"></div>
  <div class="message" id="text"></div>
  <div class="gift" id="gift">üéÅ</div>
  <button id="openBtn" onclick="startSlides()">Open Gift üíñ</button>
  <img id="photo" src="">
</div>

<script>

// ---------- AUDIO UNLOCK FIX (CRITICAL) ----------
function unlockAudio(){
  const music = document.getElementById("music");
  music.play().catch(()=>{});
  document.removeEventListener("click", unlockAudio);
}
document.addEventListener("click", unlockAudio);

// ---------- Intro Typing ----------
const introText = "Happy Birthday Beauty üíñ";
let introIndex = 0;

function typeIntro(){
  if(introIndex < introText.length){
    document.getElementById("title").innerHTML += introText.charAt(introIndex);
    introIndex++;
    setTimeout(typeIntro,80);
  } else {
    setTimeout(showGift,800);
  }
}

function showGift(){
  document.getElementById("gift").style.display="block";
  document.getElementById("text").innerHTML="Here is your gift‚Ä¶";
  document.getElementById("openBtn").style.display="inline-block";
  startHearts();
}

// ---------- Slides ----------
const slides = [
{
img:"photo1.jpeg",
bg:"#ffb6c1",
text:"On your birthday, I want to take a moment to reflect on how amazing you are and all the incredible things you've achieved. I'm in awe of how you turn every challenge into an opportunity to grow. May this be your most fulfilling year yet! Happy birthday."
},
{
img:"photo2.jpeg",
bg:"#ffe4e1",
text:"As you celebrate another year, I want you to know how much I appreciate your presence in my life. You bring joy to everyone around you, and I hope today brings that same joy back to you in abundance. Here‚Äôs to a fantastic year ahead."
},
{
img:"photo3.jpeg",
bg:"#ffc0cb",
text:"My heart overflows with love and happiness when I'm with you. I treasure you above all else, especially as we celebrate your life. May life shower you with blessings every day, especially on your birthday."
},
{
img:"photo4.jpeg",
bg:"#ff69b4",
text:"May your birthday be as fantastic as you are! I hope your day is filled with all the things that make you happiest."
},
{
img:"photo5.jpeg",
bg:"#ff1493",
text:"Count your life by smiles, not tears. Count your age by friends, not years. Happy Birthday! May your special day be filled with love, laughter, and everything that makes you smile."
},
{
img:"photo6.jpeg",
bg:"#ff5c8a",
text:"Every day with you feels like a celebration, but today is extra special because it's all about you! I'm so thankful for your love and the way you make life so much more beautiful just by being in it. Happy birthday to the one who fills my life with love and joy. You are my everything, and I adore you more than words can express."
}
];

let slideIndex = 0;
let typingSpeed = 35;

// ---------- Start Slides ----------
function startSlides(){

  document.getElementById("music").play(); // ‚úÖ Guaranteed to work

  document.getElementById("gift").style.display="none";
  document.getElementById("openBtn").style.display="none";
  document.getElementById("title").innerHTML="üíñ";

  showSlide();
  scheduleNext();
}

function showSlide(){
  const slide = slides[slideIndex];
  const textEl = document.getElementById("text");
  const imgEl = document.getElementById("photo");

  textEl.innerHTML="";
  imgEl.style.display="block";
  imgEl.classList.remove("show");
  imgEl.src = slide.img;

  document.body.style.background = slide.bg;

  setTimeout(()=>imgEl.classList.add("show"),100);
  startHearts();
  typeText(slide.text,0);
}

function typeText(text,i){
  if(i < text.length){
    document.getElementById("text").innerHTML += text.charAt(i);
    setTimeout(()=>typeText(text,i+1),typingSpeed);
  }
}

// ---------- Auto Transition ----------
function nextSlide(){
  slideIndex++;
  if(slideIndex < slides.length){
    showSlide();
    scheduleNext();
  } else {
    document.getElementById("title").innerHTML="Forever Yours üíå";
    document.getElementById("text").innerHTML="Once again‚Ä¶ Happy Birthday My Love üéâüíñ";
    document.getElementById("photo").style.display="none";
    startHearts();
  }
}

function scheduleNext(){
  const len = slides[slideIndex].text.length;
  const time = len * typingSpeed + 2500;
  setTimeout(nextSlide, time);
}

// ---------- Hearts ----------
function startHearts(){
  for(let i=0;i<10;i++){
    const heart = document.createElement("div");
    heart.className="heart";
    heart.innerHTML="üíñ";
    heart.style.left=Math.random()*100+"%";
    heart.style.animationDuration=(Math.random()*3+3)+"s";
    heart.style.fontSize=(Math.random()*10+18)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
  }
}

// Start intro
typeIntro();

</script>
</body>
</html>
